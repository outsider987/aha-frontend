import{r as a,u as f,e as g,s as o,f as n,j as e,B as x}from"./index-f9e068f6.js";import{u as v,I as c}from"./auth-a8b373e3.js";const R=()=>{const[t,i]=a.useState(""),u=f(),[r,w]=a.useState(""),[d,p]=a.useState(""),m=g(),{POST_RESET_PASSWORD:h}=v(),l=new URLSearchParams(m.search).get("token"),P=async s=>{if(s.preventDefault(),t!==r){o.dispatch(n({show:!0,msg:"password and confirm password not match",title:"Error"}));return}(await h({password:t,confirmPassword:r,oldPassword:d},l)).data.success&&(o.dispatch(n({show:!0,msg:"reset password success",title:"Success"})),u("/"))};return a.useEffect(()=>{l||o.dispatch(n({show:!0,msg:"pls msg to server",title:"Error"}))},[]),e.jsxs("div",{className:"flex justify-center items-center space-y-2 flex-col m-auto w-screen",children:[e.jsx("h1",{children:"Reset Password"}),e.jsx(c,{label:"Old Password",type:"password",placeholder:"Old Password",value:d,name:"oldPassword",onChange:s=>p(s.target.value)}),e.jsx(c,{label:"Password",type:"password",placeholder:"Password",value:t,name:"password",onChange:s=>i(s.target.value)}),e.jsx(c,{label:"Confirm Password",type:"password",placeholder:"Confirm Password",value:r,name:"confirmPassword",onChange:s=>w(s.target.value)}),e.jsx(x,{onClick:P,children:"submit"})]})};export{R as default};
