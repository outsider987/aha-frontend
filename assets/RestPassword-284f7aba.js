import{r as a,e as P,s as o,f as n,j as e,B as f}from"./index-910c87cf.js";import{u as g,I as c}from"./auth-1cdadb31.js";const C=()=>{const[t,i]=a.useState(""),[r,w]=a.useState(""),[d,u]=a.useState(""),p=P(),{POST_RESET_PASSWORD:m}=g(),l=new URLSearchParams(p.search).get("token"),h=async s=>{if(s.preventDefault(),t!==r){o.dispatch(n({show:!0,msg:"password and confirm password not match",title:"Error"}));return}(await m({password:t,confirmPassword:r,oldPassword:d},l)).data.success&&(o.dispatch(n({show:!0,msg:"reset password success",title:"Success"})),window.location.href="/")};return a.useEffect(()=>{l||o.dispatch(n({show:!0,msg:"pls msg to server",title:"Error"}))},[]),e.jsxs("div",{className:"flex justify-center items-center space-y-2 flex-col m-auto w-screen",children:[e.jsx("h1",{children:"Reset Password"}),e.jsx(c,{label:"Old Password",type:"password",placeholder:"Old Password",value:d,name:"oldPassword",onChange:s=>u(s.target.value)}),e.jsx(c,{label:"Password",type:"password",placeholder:"Password",value:t,name:"password",onChange:s=>i(s.target.value)}),e.jsx(c,{label:"Confirm Password",type:"password",placeholder:"Confirm Password",value:r,name:"confirmPassword",onChange:s=>w(s.target.value)}),e.jsx(f,{onClick:h,children:"submit"})]})};export{C as default};
