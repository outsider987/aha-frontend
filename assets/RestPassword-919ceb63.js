import{r,e as p,s as o,f as c,j as e,B as h}from"./index-bd599df5.js";import{u as f,I as i}from"./auth-69b0199a.js";const S=()=>{const[a,d]=r.useState(""),[t,l]=r.useState(""),u=p(),{POST_RESET_PASSWORD:w}=f(),n=new URLSearchParams(u.search).get("token"),m=async s=>{if(s.preventDefault(),a!==t){o.dispatch(c({show:!0,msg:"password and confirm password not match",title:"Error"}));return}(await w({password:a,confirmPassword:t},n)).data.success&&(o.dispatch(c({show:!0,msg:"reset password success",title:"Success"})),window.location.href="/")};return r.useEffect(()=>{n||o.dispatch(c({show:!0,msg:"pls msg to server",title:"Error"}))},[]),e.jsxs("div",{className:"flex justify-center items-center space-y-2 flex-col m-auto w-screen",children:[e.jsx("h1",{children:"Reset Password"}),e.jsx(i,{label:"Password",type:"password",placeholder:"Password",value:a,name:"password",onChange:s=>d(s.target.value)}),e.jsx(i,{label:"Confirm Password",type:"password",placeholder:"Confirm Password",value:t,name:"confirmPassword",onChange:s=>l(s.target.value)}),e.jsx(h,{onClick:m,children:"submit"})]})};export{S as default};
